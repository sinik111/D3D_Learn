<Project>
    <!-- ==== 경로/트리플릿 공통 설정 ==== -->
    <PropertyGroup>
        <!-- vcpkg 루트 경로: 필요시 본인 경로로 수정 -->
        <VcpkgRoot>D:\vcpkg</VcpkgRoot>
		<Vendor>$(SolutionDir)Vendor</Vendor>
		
        <TripletStatic>x64-windows-static-md</TripletStatic>
        <TripletDynamic>x64-windows</TripletDynamic>
    </PropertyGroup>

    <!-- ==== 공통: 포함 디렉터리 ==== -->
    <ItemDefinitionGroup>
        <ClCompile>
            <AdditionalIncludeDirectories>
				$(VcpkgRoot)\installed\$(TripletStatic)\include;
				$(VcpkgRoot)\installed\$(TripletDynamic)\include;
				$(VcpkgRoot)\installed\$(TripletDynamic)\include\Imath;
				$(Vendor)\$(TripletStatic)\include;
				$(Vendor)\$(TripletDynamic)\include;
				$(Vendor)\$(TripletDynamic)\include\Imath;
				%(AdditionalIncludeDirectories)
			</AdditionalIncludeDirectories>
        </ClCompile>
    </ItemDefinitionGroup>

    <!-- ==== Debug 전용 설정 ==== -->
    <ItemDefinitionGroup Condition="'$(Configuration)'=='Debug'">
        <Link>
            <AdditionalLibraryDirectories>
				$(VcpkgRoot)\installed\$(TripletStatic)\debug\lib;
				$(VcpkgRoot)\installed\$(TripletDynamic)\debug\lib;
				$(Vendor)\$(TripletStatic)\debug\lib;
				$(Vendor)\$(TripletDynamic)\debug\lib;
				%(AdditionalLibraryDirectories)
			</AdditionalLibraryDirectories>
			
            <!-- DX11 기준: directxtk.lib / directxtex.lib / imgui.lib + Assimp import lib -->
            <AdditionalDependencies>
				directxtk.lib;
				directxtex.lib;
				imguid.lib;
				assimp-vc143-mtd.lib;
				Imath-3_2_d.lib;
				deflate.lib;
				Iex-3_4_d.lib;
				OpenEXRCore-3_4_d.lib;
				IlmThread-3_4_d.lib;
				OpenEXR-3_4_d.lib;
				OpenEXRUtil-3_4_d.lib;
				%(AdditionalDependencies)
			</AdditionalDependencies>
        </Link>

        <!-- Assimp DLL 자동 복사 (Debug) -->
        <PostBuildEvent>
            <Command>
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\assimp-vc143-mtd.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\kubazip.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\minizip.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\poly2tri.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\pugixml.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\zlibd1.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\OpenEXR-3_4_d.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\IlmThread-3_4_d.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\Iex-3_4_d.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\OpenEXRCore-3_4_d.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\Imath-3_2_d.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\deflate.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\openjph.0.25d.dll" "$(OutDir)"

				<!-- openexr -->
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\debug\bin\OpenEXR-3_4_d.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\debug\bin\IlmThread-3_4_d.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\debug\bin\Iex-3_4_d.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\debug\bin\OpenEXRCore-3_4_d.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\debug\bin\Imath-3_2_d.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\debug\bin\deflate.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\debug\bin\openjph.0.25d.dll" "$(OutDir)"
			</Command>
        </PostBuildEvent>
    </ItemDefinitionGroup>

    <!-- ==== Release 전용 설정 ==== -->
    <ItemDefinitionGroup Condition="'$(Configuration)'=='Release'">
        <Link>
            <AdditionalLibraryDirectories>
				$(VcpkgRoot)\installed\$(TripletStatic)\lib;
				$(VcpkgRoot)\installed\$(TripletDynamic)\lib;
				$(Vendor)\$(TripletStatic)\lib;
				$(Vendor)\$(TripletDynamic)\lib;
				%(AdditionalLibraryDirectories)
			</AdditionalLibraryDirectories>
			
            <AdditionalDependencies>
				directxtk.lib;
				directxtex.lib;
				imgui.lib;
				assimp-vc143-mt.lib;
				Imath-3_2.lib;
				deflate.lib;
				Iex-3_4.lib;
				IlmThread-3_4.lib;
				OpenEXRCore-3_4.lib;
				OpenEXR-3_4.lib;
				OpenEXRUtil-3_4.lib;
				%(AdditionalDependencies)
			</AdditionalDependencies>
        </Link>

        <!-- Assimp DLL 자동 복사 (Release) -->
        <PostBuildEvent>
            <Command>
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\assimp-vc143-mt.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\kubazip.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\minizip.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\poly2tri.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\pugixml.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\zlib1.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\OpenEXR-3_4.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\IlmThread-3_4.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\Iex-3_4.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\OpenEXRCore-3_4.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\Imath-3_4.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\deflate.dll" "$(OutDir)"
				xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\openjph.0.25.dll" "$(OutDir)"

				<!-- openexr -->
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\bin\OpenEXR-3_4.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\bin\IlmThread-3_4.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\bin\Iex-3_4.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\bin\OpenEXRCore-3_4.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\bin\Imath-3_4.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\bin\deflate.dll" "$(OutDir)"
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\bin\openjph.0.25.dll" "$(OutDir)"
			</Command>
        </PostBuildEvent>
    </ItemDefinitionGroup>
</Project>
